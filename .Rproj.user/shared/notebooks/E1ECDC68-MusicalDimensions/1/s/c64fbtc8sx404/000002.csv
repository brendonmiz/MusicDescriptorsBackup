"0",""
"0","# First we assign the row numbers for the eventual combined dataset:"
"0","lesdims <- c(1, dim(expertrating)[1], dim(expertrating)[1]+1, "
"0","             (dim(expertrating)[1]+dim(frrating)[1]))"
"0",""
"0","# Then we create the labels for dimensions for the each of the individual arrays "
"0","ilabelsen <- paste0(""Excerpt."", 1:30) "
"0","klabelsen <- paste0(""part"", lesdims[1]:lesdims[2])"
"0","dimlisten <- list(ilabelsen, thedimensions, klabelsen)"
"0",""
"0","ilabelsfr <- paste0(""Excerpt."", 1:30)"
"0","klabelsfr <- paste0(""part"", lesdims[3]:lesdims[4])"
"0","dimlistfr <- list(ilabelsfr, thedimensionsfr, klabelsfr)"
"0",""
"0","# Initialize the array"
"0","expertarray <- array("""", dim = c(30,18,dim(expertrating)[[1]]),"
"0","                     dimnames = dimlisten)"
"0","expertarrayfr <- array("""", dim = c(30,17,dim(frrating)[[1]]),"
"0","                       dimnames = dimlistfr)"
"0",""
"0","# A sequence of numbers to use (18 columns of questions for each excerpt)"
"0","eighteens <- seq.int(18, 540, 18)"
"0","seventeens <- seq.int(1, 540, 18)"
"0",""
"0","# This loop creates a separate page for each American participant"
"0","for (k in 1:length(expertstokeep)){"
"0","  for (i in 1:30){  "
"0","  expertarray[i,1:18,k] <- unlist(expertrating[(k),seventeens[i]:eighteens[i]])"
"0","  }"
"0","}"
"0",""
"0","seventeens <- seq.int(17, 510, 17) # Different sequence from above"
"0","sixteens <- seq.int(1, 510, 17)"
"0",""
"0","# This loop creates a separate page for each French participant."
"0","for (k in 1:length(expertstokeepfr)){"
"0","  for (i in 1:30){  "
"0","  expertarrayfr[i,1:17,k] <- unlist(frrating[(k),sixteens[i]:seventeens[i]])"
"0","  }"
"0","}"
"0",""
"0","# Check the data to make sure that all of the responses are usable -"
"0","# you can delete pages of the array using the line below. "
"0","# For example, if participant #1 was trial data and didn't have all of the "
"0","# same questions as the other participants, and participant "
"0","# 15 in this dataset didn't finish the survey. "
"0","# These may have already been cleaned out of the CSV file"
"0",""
"0","expertarray <- expertarray[,-9,]"
"0",""
"0","# Delete those participants from the expert participant data as well. "
"0","# Remember this is a 2d Dataframe, not an array, "
"0","# with the participants on the rows:"
"0",""
"0","# expartdata <- expartdata[-c(1,15)]"
"0",""
"0","# Double check that the dimensions are conformable"
"0",""
"0","# dim(expartdata)[1] == dim(expertarray)[3]"
"0",""
